(this["webpackJsonpreact-netflix"]=this["webpackJsonpreact-netflix"]||[]).push([[0],{34:function(e,t,n){e.exports=n(59)},55:function(e,t,n){e.exports=n.p+"static/media/logo.42cb72f5.png"},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),i=n.n(o),c=n(64),s=n(3),l=n(11),u=n(4),d=n(5),m=n(7),v=n(6),f=n(65),h=n(63),p=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleFileChange=function(t){var n=t.target.files[0];n&&n.type.match(/^image\//)?e.readFileAsDataURL(n).then((function(t){e.resizeImage(t,e.canvas,128).then((function(t){e.setState({value:t})}))})):e.setState({value:""})},e.resizeImage=function(e,t,n){return new Promise((function(a){var r=new Image;r.onload=function(){var e=t.getContext("2d");r.height>n&&(r.width*=n/r.height,r.height=n),e.clearRect(0,0,t.width,t.height),t.width=r.width,t.height=r.height,e.drawImage(r,0,0,r.width,r.height),a(t.toDataURL("image/jpeg"))},r.src=e}))},e.readFileAsDataURL=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.canvas=document.createElement("canvas")}},{key:"render",value:function(){var e=this.state.value,t={position:"relative"};return e&&(t.backgroundImage='url("'.concat(e,'")'),t.backgroundRepeat="no-repeat",t.backgroundPosition="center",t.backgroundSize="cover"),r.a.createElement("div",{className:"navbar-avatar-container"},r.a.createElement("div",{className:"navbar-avatar",style:t},r.a.createElement("input",{type:"hidden",value:e}),r.a.createElement("input",{type:"file",onChange:this.handleFileChange,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}})))}}]),n}(a.Component),g=function(e){var t=e.type,n=e.buttonStyleOptions,a=e.onButtonPressed,o=e.icon,i=e.iconStyleOptions,c=e.children;return r.a.createElement("button",{className:"".concat(t||"default","-button ").concat(n),onClick:function(){return a()}},o&&r.a.createElement("i",{className:"fa fa-".concat(o," ").concat(i),"aria-hidden":"true",style:{paddingRight:c?"3px":null}}),c)},b=n(28),E=n.n(b),y=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeItemIndex:1},e.changeActiveItem=function(t){return e.setState({activeItemIndex:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.children;return r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"carousel-title"},t),r.a.createElement("div",{className:"carousel-content"},r.a.createElement(E.a,{enablePlaceholder:!0,numberOfPlaceholderItems:5,minimumPlaceholderTime:1e3,placeholderItem:r.a.createElement("div",{style:{height:250,background:"#202020"}}),numberOfCards:3,gutter:12,showSlither:!0,firstAndLastGutter:!0,freeScrolling:!1,requestToChangeActive:this.changeActiveItem,activeItemIndex:this.state.activeItemIndex,activePosition:"center",chevronWidth:24,rightChevron:r.a.createElement("i",{className:"fa fa-angle-right fa-5x","aria-hidden":"true",style:{color:"#fff"}}),leftChevron:r.a.createElement("i",{className:"fa fa-angle-left fa-5x","aria-hidden":"true",style:{color:"#fff"}}),outsideChevron:!1},n)))}}]),n}(a.Component),k=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:"",containerWidth:"10%",containerBorderColor:"transparent",inputOpacity:0,inputFocus:!1,cursor:"pointer"},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&(e.closeInputHandler(),e.props.onCollapseInputHandler())},e.openInputHandler=function(){e.setState({containerWidth:"85%",containerBorderColor:"#fff",inputFocus:!0,inputOpacity:1,cursor:"default"}),e.props.onExpandInputHandler()},e.closeInputHandler=function(){return e.setState({containerWidth:"10%",containerBorderColor:"transparent",inputFocus:!1,inputOpacity:0,cursor:"pointer"})},e.resetQueryHandler=function(){return e.setState({query:""})},e.onChangeHandler=function(t){return e.setState({query:t.target.value})},e.onKeyPressHandler=function(t){"Enter"===t.key&&e.state.query&&e.props.onEnterPressed(e.state.query)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navbar-input-space"},r.a.createElement("div",{className:"navbar-input-container",style:{width:this.state.containerWidth,borderColor:this.state.containerBorderColor},ref:function(t){return e.wrapperRef=t}},r.a.createElement("div",{className:"navbar-input"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true",onClick:this.openInputHandler,style:{cursor:this.state.cursor}}),r.a.createElement("input",{type:"text",placeholder:this.props.placeholder,value:this.state.query,onKeyPress:this.onKeyPressHandler,onChange:this.onChangeHandler,style:{opacity:this.state.inputOpacity},ref:function(e){return e&&window.requestAnimationFrame((function(){return e.focus()}))}}),r.a.createElement("div",{className:"navbar-input-reset-query"},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:this.resetQueryHandler,style:{visibility:this.state.query.length&&this.state.inputOpacity?"visible":"hidden",cursor:"pointer"}})))))}}]),n}(a.Component),w=function(e){var t=e.movie,n=e.favoriteList,a=e.onAddListPressed;return r.a.createElement("div",{className:"jumbotron-container",style:{backgroundColor:"#202020",backgroundImage:"url(".concat("https://image.tmdb.org/t/p/").concat("original").concat(t.backdrop_path,")")}},r.a.createElement("div",{className:"jumbotron-info-container"},r.a.createElement("div",{className:"jumbotron-info"},r.a.createElement("span",{className:"jumbotron-title"},t.title),r.a.createElement("span",{className:"jumbotron-description"},t.overview?t.overview:"Esse filme ainda n\xe3o tem uma descri\xe7\xe3o."),r.a.createElement("div",{className:"jumbotron-sub-info"},r.a.createElement("div",{className:"jumbotron-year",style:{fontSize:"23px"}},t.release_date?t.release_date.split("-")[0]:null),r.a.createElement("div",{className:"jumbotron-rating"},t.vote_average)),r.a.createElement("div",{className:"jumbotron-buttons"},r.a.createElement(g,{type:"play",icon:"play",onButtonPressed:function(){return console.log("Assistir!")}},"Assistir"),r.a.createElement(g,{icon:n.filter((function(e){return e.id===t.id})).length?"check":"plus",onButtonPressed:function(){return a(t)}},"Minha Lista")))))},j=n(62),L=n(55),O=function(e){var t=e.changeMenuMarker;return r.a.createElement("div",{className:"navbar-logo-container"},r.a.createElement(j.a,{to:"/",onClick:function(){return t("in\xedcio")}},r.a.createElement("img",{className:"navbar-logo",src:L,alt:"navbar-logo"})))},C=function(e){var t=e.changeMenuMarker,n=e.page;return r.a.createElement("div",{className:"navbar-menu-option-container"},r.a.createElement(j.a,{to:"/",onClick:function(){return t("in\xedcio")}},r.a.createElement("span",{className:"navbar-menu-option",style:{borderColor:"in\xedcio"===n?"#B8130D":null}},"In\xedcio")),r.a.createElement(j.a,{to:"/favorites",onClick:function(){return t("lista")}},r.a.createElement("span",{className:"navbar-menu-option",style:{borderColor:"lista"===n?"#B8130D":null}},"Minha Lista")))},M=function(e){var t=e.movie,n=e.favoriteList,a=e.onAddListPressed;return r.a.createElement("div",{className:"movie-card",style:{backgroundColor:"#202020",backgroundImage:"url(".concat("https://image.tmdb.org/t/p/").concat("w500").concat(t.backdrop_path,")")}},r.a.createElement("div",{className:"movie-card-container"},r.a.createElement("div",{className:"movie-card-text"},r.a.createElement("div",{className:"movie-card-title"},t.title),r.a.createElement("div",{className:"movie-card-info"},r.a.createElement("div",{className:"movie-card-year"},t.release_date?t.release_date.split("-")[0]:null),r.a.createElement("div",{className:"movie-card-rating"},t.vote_average)),r.a.createElement("div",{className:"movie-card-description"},t.overview?t.overview.substring(0,100)+"...":"Esse filme ainda n\xe3o tem uma descri\xe7\xe3o.")),r.a.createElement("div",{className:"movie-card-button-container"},r.a.createElement(g,{buttonStyleOptions:"round-button",iconStyleOptions:"fa-fw",icon:n.filter((function(e){return e.id===t.id})).length?"check":"plus",onButtonPressed:function(){return a(t)}}))))},N=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:"in\xedcio"},e.changeMenuMarkerHandler=function(t){return e.setState({page:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"navbar-container"},r.a.createElement(O,{changeMenuMarker:function(t){return e.changeMenuMarkerHandler(t)}}),r.a.createElement(C,{page:this.state.page,changeMenuMarker:function(t){return e.changeMenuMarkerHandler(t)}}),r.a.createElement(k,{placeholder:"Filmes, pessoas...",onEnterPressed:function(t){return e.props.onSearchMovies(t)},onCollapseInputHandler:function(){return e.props.onCollapseInputHandler()},onExpandInputHandler:function(){return e.props.onExpandInputHandler()}}),r.a.createElement(p,null))}}]),n}(a.Component),I=function(e){var t=e.movieJumbotron,n=e.favoriteList,a=e.onAddListPressed,o=e.movies;return r.a.createElement("div",{className:"home-container"},r.a.createElement(w,{movie:t,favoriteList:n,onAddListPressed:function(e){return a(e)}}),r.a.createElement(y,{title:"Nos Cinemas"},o.lastestMovies.map((function(e){return r.a.createElement(M,{key:e.id,movie:e,favoriteList:n,onAddListPressed:function(e){return a(e)}})}))),r.a.createElement(y,{title:"Os melhores para te dar aquele susto"},o.horrorMovies.map((function(e){return r.a.createElement(M,{key:e.id,movie:e,favoriteList:n,onAddListPressed:function(e){return a(e)}})}))),r.a.createElement(y,{title:"Para chorar de rir"},o.comedyMovies.map((function(e){return r.a.createElement(M,{key:e.id,movie:e,favoriteList:n,onAddListPressed:function(e){return a(e)}})}))),r.a.createElement(y,{title:"Filmes que far\xe3o voc\xea viajar em outro mundo"},o.scifiMovies.map((function(e){return r.a.createElement(M,{key:e.id,movie:e,favoriteList:n,onAddListPressed:function(e){return a(e)}})}))),r.a.createElement(y,{title:"Anima\xe7\xf5es para relaxar sua tarde"},o.animationMovies.map((function(e){return r.a.createElement(M,{key:e.id,movie:e,favoriteList:n,onAddListPressed:function(e){return a(e)}})}))))},P=function(e){var t=e.movies,n=e.favoriteList,a=e.title,o=e.onAddListPressed;return r.a.createElement("div",{className:"movie-list-container"},r.a.createElement("h1",null,a),r.a.createElement("ol",{className:"movie-list-grid"},t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(M,{movie:e,favoriteList:n,onAddListPressed:function(e){return o(e)}}))}))))},A="https://api.themoviedb.org/3",S="df1a8a2aad5fbba70d7851155c59e9f7",x=function(e){return fetch("".concat(A,"/genre/movie/list?api_key=").concat(S,"&").concat("language=pt-BR")).then((function(e){return e.json()})).then((function(e){return e.genres})).then((function(t){var n=t.filter((function(t){return t.name===e})).map((function(e){return e.id})).join(",");return fetch("".concat(A,"/discover/movie?api_key=").concat(S,"&").concat("language=pt-BR","&sort_by=popularity.desc&with_genres=").concat(n)).then((function(e){return e.json()})).then((function(e){return e.results}))}))},H=function(e){return fetch("".concat(A,"/search/movie?api_key=").concat(S,"&query=").concat(e,"&").concat("language=pt-BR")).then((function(e){return e.json()})).then((function(t){return t.total_results?t.results:fetch("".concat(A,"/search/person?api_key=").concat(S,"&query=").concat(e,"&").concat("language=pt-BR")).then((function(e){return e.json()})).then((function(e){return e.total_results?e.results.map((function(e){return e.known_for})).reduce((function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t))})):[]}))}))},_=(n(56),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movieJumbotron:{},movies:{comedyMovies:[],animationMovies:[],scifiMovies:[],horrorMovies:[],lastestMovies:[]},favoriteList:[],fetchedMovies:[],isInputClosed:!0,avatarPhoto:""},e.toggleMovieInFavoriteList=function(t){var n=e.state.favoriteList,a=n.map((function(e){return e.id})).indexOf(t.id);-1===a?e.setState({favoriteList:[].concat(Object(l.a)(n),[t])}):e.setState({favoriteList:[].concat(Object(l.a)(n.slice(0,a)),Object(l.a)(n.slice(a+1)))})},e.doSearch=function(t){H(t).then((function(t){return e.setState({fetchedMovies:t})}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(A,"/movie/popular?api_key=").concat(S,"&").concat("language=pt-BR")).then((function(e){return e.json()})).then((function(e){return e.results[Math.floor(Math.random()*(e.results.length-1))]})).then((function(t){return e.setState({movieJumbotron:t})})),fetch("".concat(A,"/movie/now_playing?api_key=").concat(S,"&").concat("language=pt-BR")).then((function(e){return e.json()})).then((function(e){return e.results})).then((function(t){return e.setState({movies:Object(s.a)(Object(s.a)({},e.state.movies),{},{lastestMovies:t})})})),x("Com\xe9dia").then((function(t){return e.setState({movies:Object(s.a)(Object(s.a)({},e.state.movies),{},{comedyMovies:t})})})),x("Anima\xe7\xe3o").then((function(t){return e.setState({movies:Object(s.a)(Object(s.a)({},e.state.movies),{},{animationMovies:t})})})),x("Fic\xe7\xe3o cient\xedfica").then((function(t){return e.setState({movies:Object(s.a)(Object(s.a)({},e.state.movies),{},{scifiMovies:t})})})),x("Terror").then((function(t){return e.setState({movies:Object(s.a)(Object(s.a)({},e.state.movies),{},{horrorMovies:t})})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement(N,{onSearchMovies:function(t){return e.doSearch(t)},onCollapseInputHandler:function(){return e.setState({isInputClosed:!0})},onExpandInputHandler:function(){return e.setState({isInputClosed:!1})}}),r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return!e.state.isInputClosed&&e.state.fetchedMovies.length?r.a.createElement(h.a,{to:"/search"}):r.a.createElement(I,{movies:e.state.movies,movieJumbotron:e.state.movieJumbotron,favoriteList:e.state.favoriteList,onAddListPressed:function(t){return e.toggleMovieInFavoriteList(t)}})}}),r.a.createElement(f.a,{path:"/favorites",render:function(){return!e.state.isInputClosed&&e.state.fetchedMovies.length?r.a.createElement(h.a,{to:"/search"}):r.a.createElement(P,{title:"Minha Lista",movies:e.state.favoriteList,favoriteList:e.state.favoriteList,onAddListPressed:function(t){return e.toggleMovieInFavoriteList(t)}})}}),r.a.createElement(f.a,{path:"/search",render:function(){return r.a.createElement(P,{title:"Resultados da Pesquisa",movies:e.state.fetchedMovies,favoriteList:e.state.favoriteList,onAddListPressed:function(t){return e.toggleMovieInFavoriteList(t)}})}}))}}]),n}(r.a.Component)),R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(58);i.a.render(r.a.createElement(c.a,null,r.a.createElement(_,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");R?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):B(e)}))}}()}},[[34,1,2]]]);
//# sourceMappingURL=main.4e62e7cb.chunk.js.map